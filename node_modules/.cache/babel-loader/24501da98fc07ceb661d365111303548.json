{"ast":null,"code":"var _jsxFileName = \"/Users/stefan/veda/examples/todo-stw/src/components/VersionPanel.js\";\nimport React from 'react';\nimport { Alert, Button } from 'react-bootstrap';\nimport CONFIGURATION from \"./ConfigStore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass VersionPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.key = props.key;\n    this.url = CONFIGURATION.baseUrl + \"/\" + props.data.version;\n    this.state = props.data;\n    this.updateParent = props.update;\n  }\n\n  render() {\n    console.log(\"VersionPanel.render(\" + this.key + \")\");\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      variant: this.state.blocked ? \"danger\" : \"success\",\n      children: [this.state.version, \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: () => this.invoke(\"cancel\"),\n        disabled: true,\n        children: this.state.releaseDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 5\n      }, this), \"\\xA0\", !this.state.blocked ? /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        onClick: () => this.invoke(\"block\"),\n        children: \"Block\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 8\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        onClick: () => this.invoke(\"unblock\"),\n        children: \"Unblock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 8\n      }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => this.invokeAndUpdate(\"releaseNow\"),\n        children: \"Release now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 4\n    }, this);\n  }\n\n  invoke(action) {\n    var target = this.url + '/' + action;\n    fetch(target, {\n      method: 'POST'\n    }).then(response => response.json()).then(data => this.setState(data));\n  }\n\n  invokeAndUpdate(action) {\n    var target = this.url + '/' + action;\n    fetch(target, {\n      method: 'POST'\n    }).then(response => response.json()).then(data => {\n      this.setState(data);\n      this.updateParent();\n    });\n  }\n\n}\n\nexport default VersionPanel;","map":{"version":3,"sources":["/Users/stefan/veda/examples/todo-stw/src/components/VersionPanel.js"],"names":["React","Alert","Button","CONFIGURATION","VersionPanel","Component","constructor","props","key","url","baseUrl","data","version","state","updateParent","update","render","console","log","blocked","invoke","releaseDate","invokeAndUpdate","action","target","fetch","method","then","response","json","setState"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,iBAA5B;AACA,OAAOC,aAAP,MAA0B,eAA1B;;;AAEA,MAAMC,YAAN,SAA2BJ,KAAK,CAACK,SAAjC,CAA2C;AAE1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,GAAL,GAAWD,KAAK,CAACC,GAAjB;AACA,SAAKC,GAAL,GAAWN,aAAa,CAACO,OAAd,GAAwB,GAAxB,GAA8BH,KAAK,CAACI,IAAN,CAAWC,OAApD;AACA,SAAKC,KAAL,GAAaN,KAAK,CAACI,IAAnB;AACA,SAAKG,YAAL,GAAoBP,KAAK,CAACQ,MAA1B;AACA;;AAGDC,EAAAA,MAAM,GAAG;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAyB,KAAKV,GAA9B,GAAoC,GAAhD;AACA,wBACC,QAAC,KAAD;AAAO,MAAA,OAAO,EAAE,KAAKK,KAAL,CAAWM,OAAX,GAAqB,QAArB,GAAgC,SAAhD;AAAA,iBACE,KAAKN,KAAL,CAAWD,OADb,uBAGC,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAE,MAAM,KAAKQ,MAAL,CAAY,QAAZ,CAA3C;AACE,QAAA,QAAQ,MADV;AAAA,kBACY,KAAKP,KAAL,CAAWQ;AADvB;AAAA;AAAA;AAAA;AAAA,cAHD,UAME,CAAC,KAAKR,KAAL,CAAWM,OAAZ,gBACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,QAAhB;AAAyB,QAAA,OAAO,EAAE,MAAM,KAAKC,MAAL,CAAY,OAAZ,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,gBAEE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAA0B,QAAA,OAAO,EAAE,MAAM,KAAKA,MAAL,CAAY,SAAZ,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,uBAWC,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAA0B,QAAA,OAAO,EAAE,MAAM,KAAKE,eAAL,CAAqB,YAArB,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAeA;;AAGDF,EAAAA,MAAM,CAACG,MAAD,EAAS;AACd,QAAIC,MAAM,GAAG,KAAKf,GAAL,GAAW,GAAX,GAAiBc,MAA9B;AACAE,IAAAA,KAAK,CAACD,MAAD,EAAS;AACbE,MAAAA,MAAM,EAAE;AADK,KAAT,CAAL,CAGEC,IAHF,CAGOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHnB,EAIEF,IAJF,CAIOhB,IAAI,IAAI,KAAKmB,QAAL,CAAcnB,IAAd,CAJf;AAKA;;AAGDW,EAAAA,eAAe,CAACC,MAAD,EAAS;AACvB,QAAIC,MAAM,GAAG,KAAKf,GAAL,GAAW,GAAX,GAAiBc,MAA9B;AACAE,IAAAA,KAAK,CAACD,MAAD,EAAS;AACbE,MAAAA,MAAM,EAAE;AADK,KAAT,CAAL,CAGEC,IAHF,CAGOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHnB,EAIEF,IAJF,CAIOhB,IAAI,IAAI;AACb,WAAKmB,QAAL,CAAcnB,IAAd;AACA,WAAKG,YAAL;AACA,KAPF;AAQA;;AAnDyC;;AAuD3C,eAAeV,YAAf","sourcesContent":["import React from 'react'\nimport {Alert, Button} from 'react-bootstrap'\nimport CONFIGURATION from \"./ConfigStore\";\n\nclass VersionPanel extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.key = props.key;\n\t\tthis.url = CONFIGURATION.baseUrl + \"/\" + props.data.version;\n\t\tthis.state = props.data;\n\t\tthis.updateParent = props.update;\n\t}\n\n\n\trender() {\n\t\tconsole.log(\"VersionPanel.render(\" + this.key + \")\");\n\t\treturn (\n\t\t\t<Alert variant={this.state.blocked ? \"danger\" : \"success\"}>\n\t\t\t\t{this.state.version}\n\t\t\t\t&nbsp;\n\t\t\t\t<Button variant=\"secondary\" onClick={() => this.invoke(\"cancel\")}\n\t\t\t\t\t\tdisabled>{this.state.releaseDate}</Button>\n\t\t\t\t&nbsp;\n\t\t\t\t{!this.state.blocked\n\t\t\t\t\t? <Button variant=\"danger\" onClick={() => this.invoke(\"block\")}>Block</Button>\n\t\t\t\t\t: <Button variant=\"success\" onClick={() => this.invoke(\"unblock\")}>Unblock</Button>\n\t\t\t\t}\n\t\t\t\t&nbsp;\n\t\t\t\t<Button variant=\"primary\" onClick={() => this.invokeAndUpdate(\"releaseNow\")}>Release now</Button>\n\t\t\t</Alert>\n\t\t);\n\t}\n\n\n\tinvoke(action) {\n\t\tvar target = this.url + '/' + action;\n\t\tfetch(target, {\n\t\t\tmethod: 'POST'\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState(data));\n\t}\n\n\n\tinvokeAndUpdate(action) {\n\t\tvar target = this.url + '/' + action;\n\t\tfetch(target, {\n\t\t\tmethod: 'POST'\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState(data);\n\t\t\t\tthis.updateParent();\n\t\t\t});\n\t}\n\n}\n\nexport default VersionPanel;\n"]},"metadata":{},"sourceType":"module"}